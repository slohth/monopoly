plugins {
    id 'com.github.johnrengelman.shadow' version '7.1.2'
    id 'org.jetbrains.kotlin.jvm' version '1.6.21'
    id 'java'
}

group 'dev.slohth'
version '1.0.0'

repositories {
    mavenCentral()
    maven { url = "https://repo.codemc.io/repository/nms/" }
    maven { url 'https://repo.codemc.io/repository/maven-snapshots/' }
    maven {
        name = 'minecraft-repo'
        url = 'https://libraries.minecraft.net/'
    }
    maven { url "https://maven.enginehub.org/repo/" }
}

dependencies {
    compileOnly ("org.spigotmc:spigot:1.19.4-R0.1-SNAPSHOT")
    compileOnly ("com.mojang:authlib:1.5.21") {
        exclude group: '*', module: '*'
    }

}

compileJava {
    options.encoding("UTF-8")
}

build {
    java.sourceCompatibility = JavaVersion.VERSION_17
    dependsOn shadowJar
}

shadowJar {
    relocate "kotlin", "dev.slohth.monopoly.libs.kotlin"
}

shadowJar.shouldRunAfter build